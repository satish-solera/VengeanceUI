{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "spotlight-navbar",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "components/ui/spotlight-navbar.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { animate } from \"framer-motion\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface NavItem {\r\n    label: string;\r\n    href: string;\r\n}\r\n\r\nexport interface SpotlightNavbarProps {\r\n    items?: NavItem[];\r\n    className?: string;\r\n    onItemClick?: (item: NavItem, index: number) => void;\r\n    defaultActiveIndex?: number;\r\n}\r\n\r\nexport function SpotlightNavbar({\r\n    items = [\r\n        { label: \"Home\", href: \"#home\" },\r\n        { label: \"About\", href: \"#about\" },\r\n        { label: \"Events\", href: \"#events\" },\r\n        { label: \"Sponsors\", href: \"#sponsors\" },\r\n        { label: \"Pricing\", href: \"#pricing\" },\r\n    ],\r\n    className,\r\n    onItemClick,\r\n    defaultActiveIndex = 0,\r\n}: SpotlightNavbarProps) {\r\n    const navRef = useRef<HTMLDivElement>(null);\r\n    const [activeIndex, setActiveIndex] = useState(defaultActiveIndex);\r\n    const [hoverX, setHoverX] = useState<number | null>(null);\r\n    const [isDark, setIsDark] = useState(false);\r\n\r\n    // Refs for the \"light\" positions so we can animate them imperatively\r\n    const spotlightX = useRef(0);\r\n    const ambienceX = useRef(0);\r\n\r\n    useEffect(() => {\r\n        const checkTheme = () => {\r\n            setIsDark(document.documentElement.classList.contains('dark'));\r\n        };\r\n        checkTheme();\r\n        const observer = new MutationObserver(checkTheme);\r\n        observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });\r\n        return () => observer.disconnect();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!navRef.current) return;\r\n        const nav = navRef.current;\r\n\r\n        const handleMouseMove = (e: MouseEvent) => {\r\n            const rect = nav.getBoundingClientRect();\r\n            const x = e.clientX - rect.left;\r\n            setHoverX(x);\r\n            // Direct update for immediate feedback (no spring for the mouse itself, feels snappier)\r\n            spotlightX.current = x;\r\n            nav.style.setProperty(\"--spotlight-x\", `${x}px`);\r\n        };\r\n\r\n        const handleMouseLeave = () => {\r\n            setHoverX(null);\r\n            // When mouse leaves, spring the spotlight back to the active item\r\n            const activeItem = nav.querySelector(`[data-index=\"${activeIndex}\"]`);\r\n            if (activeItem) {\r\n                const navRect = nav.getBoundingClientRect();\r\n                const itemRect = activeItem.getBoundingClientRect();\r\n                const targetX = itemRect.left - navRect.left + itemRect.width / 2;\r\n\r\n                animate(spotlightX.current, targetX, {\r\n                    type: \"spring\",\r\n                    stiffness: 200,\r\n                    damping: 20,\r\n                    onUpdate: (v) => {\r\n                        spotlightX.current = v;\r\n                        nav.style.setProperty(\"--spotlight-x\", `${v}px`);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        nav.addEventListener(\"mousemove\", handleMouseMove);\r\n        nav.addEventListener(\"mouseleave\", handleMouseLeave);\r\n\r\n        return () => {\r\n            nav.removeEventListener(\"mousemove\", handleMouseMove);\r\n            nav.removeEventListener(\"mouseleave\", handleMouseLeave);\r\n        };\r\n    }, [activeIndex]);\r\n\r\n    // Handle the \"Ambience\" (Active Item) Movement\r\n    useEffect(() => {\r\n        if (!navRef.current) return;\r\n        const nav = navRef.current;\r\n        const activeItem = nav.querySelector(`[data-index=\"${activeIndex}\"]`);\r\n\r\n        if (activeItem) {\r\n            const navRect = nav.getBoundingClientRect();\r\n            const itemRect = activeItem.getBoundingClientRect();\r\n            const targetX = itemRect.left - navRect.left + itemRect.width / 2;\r\n\r\n            animate(ambienceX.current, targetX, {\r\n                type: \"spring\",\r\n                stiffness: 200,\r\n                damping: 20,\r\n                onUpdate: (v) => {\r\n                    ambienceX.current = v;\r\n                    nav.style.setProperty(\"--ambience-x\", `${v}px`);\r\n                },\r\n            });\r\n        }\r\n    }, [activeIndex]);\r\n\r\n    const handleItemClick = (item: NavItem, index: number) => {\r\n        setActiveIndex(index);\r\n        onItemClick?.(item, index);\r\n    };\r\n\r\n    return (\r\n        <div className={cn(\"relative flex justify-center pt-10\", className)}>\r\n            <nav\r\n                ref={navRef}\r\n                className={cn(\r\n                    \"spotlight-nav spotlight-nav-bg glass-border spotlight-nav-shadow\",\r\n                    \"relative h-11 rounded-full transition-all duration-300 overflow-hidden\"\r\n                )}\r\n            >\r\n                {/* Content */}\r\n                <ul className=\"relative flex items-center h-full px-2 gap-0 z-[10]\">\r\n                    {items.map((item, idx) => (\r\n                        <li key={idx} className=\"relative h-full flex items-center justify-center\">\r\n                            <a\r\n                                href={item.href}\r\n                                data-index={idx}\r\n                                onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    handleItemClick(item, idx);\r\n                                }}\r\n                                className={cn(\r\n                                    \"px-4 py-2 text-sm font-medium transition-colors duration-200 rounded-full\",\r\n                                    \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 dark:focus-visible:ring-white/30\",\r\n                                    // Active vs Inactive Text\r\n                                    activeIndex === idx\r\n                                        ? \"text-black dark:text-white\"\r\n                                        : \"text-neutral-500 dark:text-neutral-400 hover:text-black dark:hover:text-white\"\r\n                                )}\r\n                            >\r\n                                {item.label}\r\n                            </a>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n\r\n                {/* LIGHTING LAYERS \r\n           We use CSS variables --spotlight-x and --ambience-x updated by JS\r\n        */}\r\n\r\n                {/* 1. The Moving Spotlight (Follows Mouse) */}\r\n                <div\r\n                    className=\"pointer-events-none absolute bottom-0 left-0 w-full h-full z-[1] opacity-0 transition-opacity duration-300\"\r\n                    style={{\r\n                        opacity: hoverX !== null ? 1 : 0,\r\n                        background: `\r\n              radial-gradient(\r\n                120px circle at var(--spotlight-x) 100%, \r\n                var(--spotlight-color, rgba(0,0,0,0.1)) 0%, \r\n                transparent 50%\r\n              )\r\n            `\r\n                    }}\r\n                />\r\n\r\n                {/* 2. The Active State Ambience (Stays on Active) */}\r\n                <div\r\n                    className=\"pointer-events-none absolute bottom-0 left-0 w-full h-[2px] z-[2]\"\r\n                    style={{\r\n                        background: `\r\n                  radial-gradient(\r\n                    60px circle at var(--ambience-x) 0%, \r\n                    var(--ambience-color, rgba(0,0,0,1)) 0%, \r\n                    transparent 100%\r\n                  )\r\n                `\r\n                    }}\r\n                />\r\n\r\n            </nav>\r\n\r\n            {/* STYLE BLOCK for Dynamic Colors \r\n        This allows us to switch the gradient colors cleanly using Tailwind classes \r\n        without messy inline conditionals.\r\n      */}\r\n            <style jsx>{`\r\n        nav {\r\n          /* Light Mode Colors: Dark Gray/Black lights */\r\n          --spotlight-color: rgba(0,0,0,0.08);\r\n          --ambience-color: rgba(0,0,0,0.8);\r\n        }\r\n        :global(.dark) nav {\r\n          /* Dark Mode Colors: White lights */\r\n          --spotlight-color: rgba(255,255,255,0.15);\r\n          --ambience-color: rgba(255,255,255,1);\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/ui/spotlight-navbar.tsx"
    }
  ]
}